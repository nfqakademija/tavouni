{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/fullcalendar/css/fullcalendar/fullcalendar.min.css') }}" />
    <link rel="stylesheet" href="{{ asset('css/timeline.css') }}">
    <link rel="stylesheet" href="{{ asset('css/main.css') }}">
    <link rel="stylesheet" href="{{ asset('css/horizontal-timeline/style.css') }}">
    <link rel="stylesheet" href="{{ asset('css/horizontal-timeline/reset.css') }}">
{% endblock %}
{% block body %}
    <div class="container">
        <div class="row">

            <section class="cd-horizontal-timeline">
                <div class="timeline">
                    <div class="events-wrapper">
                        <div class="events">
                            <ol>
                                <li><a href="" data-date="16/10/2017" class="selected">10-16</a></li>
                                {% for assignment in assignments %}
                                    <li><a href="" data-date="{{ assignment.deadline|date('d/m/Y') }}">{{ assignment.deadline|date('m-d') }}</a></li>
                                {% endfor %}
                            </ol>
                            <span class="filling-line" aria-hidden="true"></span>
                        </div> <!-- .events -->
                    </div> <!-- .events-wrapper -->

                    <ul class="cd-timeline-navigation">
                        <li><a href="#0" class="prev inactive">Prev</a></li>
                        <li><a href="#0" class="next">Next</a></li>
                    </ul> <!-- .cd-timeline-navigation -->
                </div> <!-- .timeline -->

                <div class="events-content">
                    <ol>
                        <li class="selected" data-date="16/01/2014">
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum praesentium officia, fugit recusandae ipsa, quia velit nulla adipisci? Consequuntur aspernatur at, eaque hic repellendus sit dicta consequatur quae, ut harum ipsam molestias maxime non nisi reiciendis eligendi! Doloremque quia pariatur harum ea amet quibusdam quisquam, quae, temporibus dolores porro doloribus.
                            </p>
                        </li>
                        {% for assignment in assignments %}
                            <li data-date="{{ assignment.deadline|date('d/m/Y') }}">
                                <p>
                                    {{ assignment.deadline|date('Y-m-d') }} {{ assignment.name }} {{ assignment.subject.name }}
                                </p>
                            </li>
                        {% endfor %}


                        <li data-date="28/01/2014">
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum praesentium officia, fugit recusandae ipsa, quia velit nulla adipisci? Consequuntur aspernatur at, eaque hic repellendus sit dicta consequatur quae, ut harum ipsam molestias maxime non nisi reiciendis eligendi! Doloremque quia pariatur harum ea amet quibusdam quisquam, quae, temporibus dolores porro doloribus.
                            </p>
                        </li>
                    </ol>
                </div> <!-- .events-content -->
            </section>

        </div>
        <div class="row">
            <div class="col-md-8">
                    <div class="page-header">
                        <h1 id="timeline">Naujienos</h1>
                    </div>
                <ul class="vtimeline">
                    {% for i, post in posts %}
                        <li {{ i % 2 == 1 ? 'class="vtimeline-inverted"'}}>
                            <a class="vtimeline-badge {% if not (app.user.student in post.seenByStudents) %}info{% endif %}" data-toggle="collapse" href="#vtimeline-body-{{ post.id }}">
                                <i class="glyphicon glyphicon-info-sign {% if not (app.user.student in post.seenByStudents) %}blink{% endif %}"></i>
                            </a>
                            <div id="{{ post.id }}" class="vtimeline-panel {% if not (app.user.student in post.seenByStudents) %}bg-info{% endif %}">
                                <div class="vtimeline-heading">
                                    <h4 class="vtimeline-title">
                                        <a class="title" data-toggle="collapse" href="#vtimeline-body-{{ post.id }}">{{ post.title }}</a>
                                    </h4>
                                    <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> {{ post.publishedAt|date('Y-m-d H:i') }}</small></p>
                                </div>
                                <div id='vtimeline-body-{{ post.id }}' class="vtimeline-body collapse">
                                    <p>{{ post.content | raw}}</p>
                                </div>
                                <div class="vtimeline-body">
                                    <p><a href= '/#'><small class="text-muted">{{ post.lecture.subject.name }}</small></a></p>
                                    <p><small class="text-muted">{{ post.author.name }}</small></p>
                                </div>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-md-4">
                {% include '@FullCalendar/Calendar/calendar.html.twig' %}
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('bundles/fullcalendar/js/fullcalendar/lib/jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/fullcalendar/js/fullcalendar/lib/moment.min.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
    <script type="text/javascript" src="{{ asset('bundles/fullcalendar/js/fullcalendar/fullcalendar.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/fullcalendar/js/fullcalendar/locale-all.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/oneDayCalendar.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/horizontal-timeline.js') }}"></script>
{% endblock %}